const e=document.querySelector(".gallery");function t(t){const s=t.map((e=>{const{webformatURL:t,largeImageURL:s,tags:n,likes:r,views:i,comments:o,downloads:a}=e;return`<div class="photo-card">\n <a class="gallery__item" href="${s}">\n        <img class="photoImg" src="${t}" alt="${n}" loading="lazy"/>\n        </a>\n        <div class="info">\n          <p class="info-item">\n            <b>Likes</b>${r}\n          </p>\n          <p class="info-item">\n            <b>Views</b>${i}\n          </p>\n          <p class="info-item">\n            <b>Comments</b>${o}\n          </p>\n          <p class="info-item">\n            <b>Downloads</b>${a}\n          </p>\n        </div>\n      </div>\n      `}));e.insertAdjacentHTML("beforeend",s.join(""))}const s=document.querySelector("#search-form"),n=(document.querySelector("[text]"),document.querySelector("[submit]"),document.querySelector(".gallery")),r=new class{fetchArticles(){console.log(this);const e=`https://pixabay.com/api/?key=35573875-4d45445cc9cc07d3b69f02897&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${this.page}&per_page=${this.per_page}`;return fetch(e).then((e=>e.json())).then((({hits:e})=>(this.incrementPage(),e)))}incrementPage(){this.page+=1}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}constructor(){this.searchQuery="",this.page=1,this.per_page=5}},i=new class{getRefs(e){const t={};return t.button=document.querySelector(e),t.label=t.button.querySelector(".label"),t.spinner=t.button.querySelector(".spinner"),t}enable(){this.refs.button.disabled=!1,this.refs.label.textContent="Load more",this.refs.spinner.classList.add("is-hidden")}disable(){this.refs.button.disabled=!0,this.refs.label.textContent="loading...",this.refs.spinner.classList.remove("is-hidden")}show(){this.refs.button.classList.remove("is-hidden")}hide(){this.refs.button.classList.add("is-hidden")}constructor({selector:e,hidden:t=!1}){this.refs=this.getRefs(e),t&&this.hide()}}({selector:'[data-action="load-more"]',hidden:!0});function o(){i.disable(),r.fetchArticles().then((e=>{!function(e){t(e)}(e),i.enable()}))}s.addEventListener("submit",(function(e){e.preventDefault(),r.query=e.currentTarget.searchQuery.value.trim(),i.show(),r.resetPage(),n.innerHTML="",o()})),i.refs.button.addEventListener("click",o);
//# sourceMappingURL=index.20c5ffb1.js.map
