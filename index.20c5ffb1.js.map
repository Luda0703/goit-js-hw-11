{"mappings":"AAEA,MAAMA,EAAUC,SAASC,cAAc,YAEvC,SAASC,EAAeC,GACpB,MAAMC,EAAgBD,EACrBE,KAAIC,IAAU,MACbC,aAACA,EAAYC,cAAEA,EAAaC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,GAAaP,EAC9E,MAAO,6DAC0BE,2CACGD,WAAsBE,2HAIjCC,+EAGAC,kFAGGC,mFAGCC,yDAIvB,IAGHd,EAAQe,mBAAmB,YAAaV,EAAcW,KAAK,I,CCvB/D,MAAMC,EAAahB,SAASC,cAAc,gBAGpCgB,GAFQjB,SAASC,cAAc,UACzBD,SAASC,cAAc,YACnBD,SAASC,cAAc,aAGjCiB,EAAiB,ICXR,MAQXC,gBACIC,QAAQC,IAAIC,MACZ,MAEMC,EAAM,qEAA4BD,KAAKE,4EAA4EF,KAAKG,iBAAiBH,KAAKI,WACpJ,OAAOC,MAAMJ,GACZK,MAAKC,GAAYA,EAASC,SAC1BF,MAAK,EAACG,KAAEA,MAELT,KAAKU,gBACED,I,CAIfC,gBACIV,KAAKG,MAAQ,C,CAGjBQ,YACIX,KAAKG,KAAO,C,CAGZS,YACA,OAAOZ,KAAKE,W,CAGZU,UAAMC,GACNb,KAAKE,YAAcW,C,CAlCvBC,cACId,KAAKE,YAAc,GACnBF,KAAKG,KAAO,EACZH,KAAKI,SAAW,C,GDSlBW,EAAc,IEfL,MAQXC,QAAQC,GACJ,MAAMC,EAAO,GAKb,OAJAA,EAAKC,OAASzC,SAASC,cAAcsC,GACrCC,EAAKE,MAAQF,EAAKC,OAAOxC,cAAc,UACvCuC,EAAKG,QAAUH,EAAKC,OAAOxC,cAAc,YAElCuC,C,CAGXI,SACItB,KAAKkB,KAAKC,OAAOI,UAAW,EAC5BvB,KAAKkB,KAAKE,MAAMI,YAAc,YAC9BxB,KAAKkB,KAAKG,QAAQI,UAAUC,IAAI,Y,CAGpCC,UACI3B,KAAKkB,KAAKC,OAAOI,UAAW,EAC5BvB,KAAKkB,KAAKE,MAAMI,YAAc,aAC9BxB,KAAKkB,KAAKG,QAAQI,UAAUG,OAAO,Y,CAGvCC,OACI7B,KAAKkB,KAAKC,OAAOM,UAAUG,OAAO,Y,CAGtCE,OACI9B,KAAKkB,KAAKC,OAAOM,UAAUC,IAAI,Y,CAjCnCZ,aAAaG,SAACA,EAAQc,OAAEA,GAAS,IAC7B/B,KAAKkB,KAAOlB,KAAKgB,QAAQC,GAEzBc,GAAU/B,KAAK8B,M,GFWa,CAChCb,SAAU,4BACVc,QAAQ,IAoBZ,SAASC,IACLjB,EAAYY,UACZ/B,EAAeC,gBAAgBS,MAAKG,KAMxC,SAA0BA,GACtB7B,EAAc6B,E,CANVwB,CAAiBxB,GACjBM,EAAYO,QAAQ,G,CApB5B5B,EAAWwC,iBAAiB,UAG5B,SAAmBC,GACfA,EAAEC,iBAEFxC,EAAegB,MAAQuB,EAAEE,cAAcnC,YAAYoC,MAAMC,OAEzDxB,EAAYc,OAEZjC,EAAee,YAmBfhB,EAAQ6C,UAAY,GAjBpBR,G,IAXJjB,EAAYG,KAAKC,OAAOe,iBAAiB,QAASF","sources":["src/js/gallery.js","src/index.js","src/js/news-api.js","src/js/load-more-btn.js"],"sourcesContent":["//import SimpleLightbox from 'simplelightbox';\nexport {renderGallary}\nconst gallary = document.querySelector('.gallery')\n\nfunction renderGallary (photo) {\n    const gallaryRander = photo\n    .map(photo => {const \n      {webformatURL, largeImageURL, tags, likes, views, comments, downloads} = photo;\n return `<div class=\"photo-card\">\n <a class=\"gallery__item\" href=\"${largeImageURL}\">\n        <img class=\"photoImg\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n        </a>\n        <div class=\"info\">\n          <p class=\"info-item\">\n            <b>Likes</b>${likes}\n          </p>\n          <p class=\"info-item\">\n            <b>Views</b>${views}\n          </p>\n          <p class=\"info-item\">\n            <b>Comments</b>${comments}\n          </p>\n          <p class=\"info-item\">\n            <b>Downloads</b>${downloads}\n          </p>\n        </div>\n      </div>\n      `;\n    }\n    )\n    gallary.insertAdjacentHTML('beforeend', gallaryRander.join(''));\n    // simpleLightBox.refresh();\n};","// import axios from 'axios';\n// import Notiflix from 'notiflix';\nimport NewsApiService from \"./js/news-api\";\nimport {renderGallary} from \"./js/gallery\";\nimport LoadMoreBtn from \"./js/load-more-btn\";\n\n\nconst searchForm = document.querySelector('#search-form');\nconst input = document.querySelector('[text]');\nconst btn = document.querySelector('[submit]');\nconst gallery = document.querySelector('.gallery');\n\n\nconst newsApiService = new NewsApiService();\n\nconst loadMoreBtn = new LoadMoreBtn({\n    selector: '[data-action=\"load-more\"]',\n    hidden: true,\n});\n\n\nsearchForm.addEventListener('submit', onSearch);\nloadMoreBtn.refs.button.addEventListener('click', fetchHits);\n\nfunction onSearch (e) {\n    e.preventDefault();\n\n    newsApiService.query = e.currentTarget.searchQuery.value.trim();\n\n    loadMoreBtn.show();\n\n    newsApiService.resetPage();\n    clearGalleryContainer();\n    fetchHits();\n    \n}\n\nfunction fetchHits() {\n    loadMoreBtn.disable();\n    newsApiService.fetchArticles().then(hits => {\n        appendHitsMarkup(hits);\n        loadMoreBtn.enable();\n    });\n}\n\nfunction appendHitsMarkup(hits) {\n    renderGallary(hits);\n}\n\nfunction clearGalleryContainer() {\n    gallery.innerHTML = '';\n}\n\n\n\n\n\n\n\n       \n\n\n\n\n\n\n\n\n\n    \n","\n\nexport default class NewsApiService {\n    constructor() {\n        this.searchQuery = '';\n        this.page = 1;\n        this.per_page = 5;\n\n    }\n\n    fetchArticles() {\n        console.log(this)\n        const KEY = \"35573875-4d45445cc9cc07d3b69f02897\";\n        const BASE_URL = 'https://pixabay.com/api/';\n        const URL = `${BASE_URL}?key=${KEY}&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${this.page}&per_page=${this.per_page}`;\n        return fetch(URL)\n        .then(response => response.json())\n        .then(({ hits }) => {\n            \n            this.incrementPage();\n            return hits;\n        });\n    }\n\n    incrementPage() {\n        this.page += 1;\n    }\n\n    resetPage() {\n        this.page = 1;\n    }\n\n    get query() {\n        return this.searchQuery;\n    }\n\n    set query(newQuery) {\n        this.searchQuery = newQuery;\n    }\n}","export default class LoadMoreBtn{\n    constructor ({selector, hidden = false}) {\n        this.refs = this.getRefs(selector);\n\n        hidden && this.hide();\n\n    }\n\n    getRefs(selector) {\n        const refs = {};\n        refs.button = document.querySelector(selector);\n        refs.label = refs.button.querySelector('.label');\n        refs.spinner = refs.button.querySelector('.spinner');\n\n        return refs;\n    }\n\n    enable() {\n        this.refs.button.disabled = false;\n        this.refs.label.textContent = 'Load more';\n        this.refs.spinner.classList.add('is-hidden');\n    }\n\n    disable() {\n        this.refs.button.disabled = true;\n        this.refs.label.textContent = 'loading...';\n        this.refs.spinner.classList.remove('is-hidden');\n    }\n\n    show() {\n        this.refs.button.classList.remove('is-hidden');\n    }\n\n    hide() {\n        this.refs.button.classList.add('is-hidden');\n    }\n}"],"names":["$7c59f4ec4043ce00$var$gallary","document","querySelector","$7c59f4ec4043ce00$export$5cb82827e4aa18ac","photo1","gallaryRander","map","photo","webformatURL","largeImageURL","tags","likes","views","comments","downloads","insertAdjacentHTML","join","$1f0dc3b9307be026$var$searchForm","$1f0dc3b9307be026$var$gallery","$1f0dc3b9307be026$var$newsApiService","fetchArticles","console","log","this","URL","searchQuery","page","per_page","fetch","then","response","json","hits","incrementPage","resetPage","query","newQuery","constructor","$1f0dc3b9307be026$var$loadMoreBtn","getRefs","selector","refs","button","label","spinner","enable","disabled","textContent","classList","add","disable","remove","show","hide","hidden","$1f0dc3b9307be026$var$fetchHits","$1f0dc3b9307be026$var$appendHitsMarkup","addEventListener","e","preventDefault","currentTarget","value","trim","innerHTML"],"version":3,"file":"index.20c5ffb1.js.map"}